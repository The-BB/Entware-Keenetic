From c3b99f8328939533a9b6ac93e8ae7285e90fbdab Mon Sep 17 00:00:00 2001
From: Siddhesh Poyarekar <siddhesh@sourceware.org>
Date: Tue, 26 Sep 2023 07:38:07 -0400
Subject: [PATCH 422/423] Document CVE-2023-4806 and CVE-2023-5156 in NEWS

These are tracked in BZ #30884 and BZ #30843.

Signed-off-by: Siddhesh Poyarekar <siddhesh@sourceware.org>
(cherry picked from commit fd134feba35fa839018965733b34d28a09a075dd)
---
 NEWS | 9 +++++++++
 1 file changed, 9 insertions(+)

diff --git a/NEWS b/NEWS
index d5bfe718e7..e16f9968f3 100644
--- a/NEWS
+++ b/NEWS
@@ -46,6 +46,15 @@ Security related changes:
   corresponds to the / directory through an unprivileged mount
   namespace.  Reported by Qualys.
 
+  CVE-2023-4806: When an NSS plugin only implements the
+  _gethostbyname2_r and _getcanonname_r callbacks, getaddrinfo could use
+  memory that was freed during buffer resizing, potentially causing a
+  crash or read or write to arbitrary memory.
+
+  CVE-2023-5156: The fix for CVE-2023-4806 introduced a memory leak when
+  an application calls getaddrinfo for AF_INET6 with AI_CANONNAME,
+  AI_ALL and AI_V4MAPPED flags set.
+
 The following bugs are resolved with this release:
 
   [11053] regex: Wrong results with backreferences
-- 
2.30.2

